# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```
## Об архитектуре 

Взаимодействия внутри приложения происходят через события. Модели инициализируют события, слушатели событий в основном коде выполняют передачу данных компонентам отображения, а также вычислениями между этой передачей, и еще они меняют значения в моделях.
 
## Классы в проекте и их описание
*Components/base*
# EventEmitter

Класс предоставляет механизм для работы с событиями. Позволяет устанавливать слушатели на определённые события, инициировать события, и поддерживает дополнительные возможности: подписка на все события и использование шаблонов для слушателей.

Методы и свойства класса:
- trigger — делает коллбек триггер, генерирующий событие при вызове;
- on — добавляет слушателя на событие;
- off - удаляет слушателя с события;
- offAll - удаляет все слушатели с события;
- onAll - добавляет слушателя на все события;
- emit - инициирует событие;


# Api

Класс предоставляет простой интерфейс для выполнения HTTP-запросов(GET, POST, PUT и DELETE).

Методы и свойства класса:

- constructor(baseUrl: string, options: RequestInit = {})`- принимает базовый URL и глобальные опции для всех запросов(опционально);
- get — позволяет снять установленный обработчик события;
- post — выполняет HTTP-запрос (POST, PUT, DELETE) по указанному URI с передачей данных в формате JSON;
- handleResponse — обрабатывает ответ от сервера, проверяет статус. Если статус ок - возвращает JSON-данные. Или же ошибку с аналогичным сообщением.

# Component

Класс представляет собой базовый компонент для работы с элементами.

Методы и свойства класса:
- constructor — принимает данные из DOM;
- toggleClass - переключает класс;
<!-- - setText - устанавливает текст контента; -->
- setDisabled - устанвливает disabled;
- render - рендерит компонент.

*Components*

# Basket

Класс для работы с корзиной. Отображение списка выбранных товаров и их общей стоимости.

Методы и свойства класса:
- constructor — принимает DOM-элемент для отображения корзины;
- items - отображает товары в корзине;
- selected — делает кнопку в корзине активной или нет, в зависимости от наличия товаров;
total — выводит общую стоимость товаров.

# Card

Класс для работы с информацией о карточке товара.

Методы и свойства класса:
- constructor — принимает HTML-элемент и объект событий для обработки действий;
- id — идентификатор товара в каталоге;
- basketIndex — идентификатор товара в корзине;
- category — категория товара;
- title — название товара;
- image — изображение товара;
- description — описание товара;
- buttonElement — кнопка карточки товара;
- price — цена товара;
- set/get — устанавливает/получает значение у свойства товара;
get

# Form

Класс для работы с контактной информацией, ввод данных и валидация в форме.

Методы и свойства класса:
- constructor — принимает HTML-элемент и объект событий для обработки действий;
- inputChange — проверяет изменение значений в поле формы;
valid — устанавливает состояние валидности формы;
errors — выводит сообщение об ошибке;
render — рендерит форму с передачей данных о состоянии и ошибках, если они есть.

# AppStatus

Класс отслеживает изменения данных в корзине (добавление, удаление, оформление).

Методы и свойства класса:
- basket - список товаров;
- catalog - массив товаров в каталоге;
- order — данные оформляемого заказа;
- formErrors — объект с ошибками при валидации формы;
- addToBasket - добовляет выбранный товар в корзину;
- deleteFromBasket - удвляет выбранный товар из корзины;
- clearBasket — очищает корзину;
- getTotal — выводит общую сумму товаров;
- setStorage — устанавливает список товаров в каталоге;
- setPreview — предварительный просмотр выбранного товара;
- validateOrderForm — валидирует данные формы контактов и доставки;
setField — устанавливает введеные данные в поля заказа если valid.

# Modal

Класс для работы с модальными окнами.

Методы и свойства класса:
- constructor — принимает HTML-элемент и объект событий для обработки действий;
content — выводит данные модального окна;
- open — открывает модальное окно;
- close — закрывает модальное окно;
- render — рендерит модальное окно с передачей данных о контенте.

- 
# Order

Класс для работы с оформлением заказа.

Методы и свойства класса:

- constructor — принимает HTML-элемент и объект событий для обработки действий;
- address - выводит адрес доставки;
- email — выводит электронную почту;
- phone — выводит номер телефона;
- selected — делает выбранный метод активным.

# Page 

Класс для работы с основной страницей.

Методы и свойства класса:
- constructor — принимает HTML-элемент и объект событий для обработки действий;
- basketCounter - элемент счетчика товаров в корзине;
- catalog - каталог товаров;
- lock/unlock - блокирует/разблокирует скролл.

# ShopAPI

Класс для работы с API.

Методы и свойства класса:
- constructor — принимает API_URL, CDN_URL и дополнительные опции;
- getProducts - получает каталог товаров;
- order - оформляет заказ.

# Success
Класс для работы с успешным оформлением заказа.

Методы и свойства класса:
- constructor — принимает HTML-элемент и объект событий для обработки действий;
- total - выводит итоговую сумму заказа.